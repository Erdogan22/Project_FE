{% extends "base.html" %}

{% block title %}Saisie feuille de temps{% endblock %}

{% block content %}
<!-- {%  block messages %}
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="flash-container">
      {% for message in messages %}
        <div class="flash-success">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}
{% endblock messages %} -->

<h1>Saisie de la feuille de temps – Consultant</h1>
<p>Utilisateur : <strong>Mahmoud</strong> | Mois : <strong>Janvier 2026</strong></p>
<form method="post">
    <div class ="table-container">
    <table class="timesheet">

        <!-- Header -->
        <tr>
            <th>Jours</th>
            {% for d in range(1, 32) %}
                <th>{{ d }}/1</th>
            {% endfor %}
        </tr>

        <!-- Jours travaillés -->
        <tr>
            <td class="label">
                Jours travaillés<br>
                <small>Projet 1</small>
            </td>
            {% for d in range(1, 32) %}
                <td>
                    <input type="number"
                           name="work_{{ d }}"
                           step="0.5"
                           min="0"
                           max="1"
                           title="Heures travaillées pour le jour {{ d }}"
                           placeholder="0.5">
                </td>
            {% endfor %}
        </tr>

        <!-- Absence 1 -->
        <tr>
            <td class="label">
                Absence 1<br>
                <small>Maladie, congés, autre</small>
            </td>
            {% for d in range(1, 32) %}
                <td id="abs1_{{ d }}">
                    <input type="number"
                           name="absence1_{{ d }}"
                           step="0.5"
                           min="0"
                           max="1"
                           title="Heures d'absence pour le jour {{ d }}"
                           placeholder="0.5">
                </td>
            {% endfor %}
        </tr>

        <!-- Absence 2 -->
        <tr>
            <td class="label">
                Absence 2<br>
                <small>Maladie, congés, autre</small>
            </td>
            {% for d in range(1, 32) %}
                <td id="abs2_{{ d }}">
                    <input type="number"
                           name="absence2_{{ d }}"
                           step="0.5"
                           min="0"
                           max="1"
                           title="Heures d'absence pour le jour {{ d }}"
                           placeholder="0.5">
                </td>
            {% endfor %}
        </tr>

        <!-- Total -->
        <tr class="total-row">
            <td class="label">Total</td>
            {% for d in range(1, 32) %}
                <td class="total-cell" id="total_{{ d }}">0</td>
            {% endfor %}
        </tr>

    </table>
</div>
    <!-- Commentaires -->
    <div class="comments">
        <label>Commentaires</label><br>
        <textarea name="comments" rows="3" title="Enter your comments here" placeholder="Enter your comments..."></textarea>
    </div>

    <div class="actions">
        <button type="submit">Soumettre</button>
    </div>
</form>


<script src="{{ url_for('static', filename='jscript/script.js') }}"></script>
{% endblock %}
